(function(){var e,i,r,s,o,l,a,t,u,n=[].slice,p=function(e,t){for(var i in t){if(c.call(t,i))e[i]=t[i]};function n(){this.constructor=e};n.prototype=t.prototype;e.prototype=new n();e.__super__=t.prototype;return e},c={}.hasOwnProperty;t=function(){};i=(function(){function e(){};e.prototype.addEventListener=e.prototype.on;e.prototype.on=function(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e]){this._callbacks[e]=[]};this._callbacks[e].push(t);return this};e.prototype.emit=function(){var i,r,e,s,t,o;s=arguments[0],i=2<=arguments.length?n.call(arguments,1):[];this._callbacks=this._callbacks||{};e=this._callbacks[s];if(e){for(t=0,o=e.length;t<o;t++){r=e[t];r.apply(this,i)}};return this};e.prototype.removeListener=e.prototype.off;e.prototype.removeAllListeners=e.prototype.off;e.prototype.removeEventListener=e.prototype.off;e.prototype.off=function(e,t){var s,i,n,r,o;if(!this._callbacks||arguments.length===0){this._callbacks={};return this};i=this._callbacks[e];if(!i){return this};if(arguments.length===1){delete this._callbacks[e];return this};for(n=r=0,o=i.length;r<o;n=++r){s=i[n];if(s===t){i.splice(n,1);break}};return this};return e})();e=(function(e){var l,o;p(s,e);s.prototype.Emitter=i;s.prototype.events=['drop','dragstart','dragend','dragenter','dragover','dragleave','addedfile','addedfiles','removedfile','thumbnail','error','errormultiple','processing','processingmultiple','uploadprogress','totaluploadprogress','sending','sendingmultiple','success','successmultiple','canceled','canceledmultiple','complete','completemultiple','reset','maxfilesexceeded','maxfilesreached','queuecomplete'];s.prototype.defaultOptions={url:null,method:'post',withCredentials:!1,timeout:30000,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:'file',createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:'crop',resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:0.8,resizeMethod:'contain',filesizeBase:1000,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:'body',capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:'Drop files here to upload',dictFallbackMessage:'Your browser does not support drag\'n\'drop file uploads.',dictFallbackText:'Please use the fallback form below to upload your files like in the olden days.',dictFileTooBig:'File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.',dictInvalidFileType:'You can\'t upload files of this type.',dictResponseError:'Server responded with {{statusCode}} code.',dictCancelUpload:'Cancel upload',dictCancelUploadConfirmation:'Are you sure you want to cancel this upload?',dictRemoveFile:'Remove file',dictRemoveFileConfirmation:null,dictMaxFilesExceeded:'You can not upload any more files.',dictFileSizeUnits:{tb:'TB',gb:'GB',mb:'MB',kb:'KB',b:'b'},init:function(){return t},accept:function(e,t){return t()},fallback:function(){var i,n,o,t,r,e;this.element.className=this.element.className+' dz-browser-not-supported';r=this.element.getElementsByTagName('div');for(n=0,o=r.length;n<o;n++){i=r[n];if(/(^| )dz-message($| )/.test(i.className)){t=i;i.className='dz-message';continue}};if(!t){t=s.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(t)};e=t.getElementsByTagName('span')[0];if(e){if(e.textContent!=null){e.textContent=this.options.dictFallbackMessage}
else if(e.innerText!=null){e.innerText=this.options.dictFallbackMessage}};return this.element.appendChild(this.getFallbackForm())},resize:function(e,t,i,r){var n,s,o;n={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};s=e.width/e.height;if((t==null)&&(i==null)){t=n.srcWidth;i=n.srcHeight}
else if(t==null){t=i*s}
else if(i==null){i=t/s};t=Math.min(t,n.srcWidth);i=Math.min(i,n.srcHeight);o=t/i;if(n.srcWidth>t||n.srcHeight>i){if(r==='crop'){if(s>o){n.srcHeight=e.height;n.srcWidth=n.srcHeight*o}
else{n.srcWidth=e.width;n.srcHeight=n.srcWidth/o}}
else if(r==='contain'){if(s>o){i=t/s}
else{t=i*s}}
else{throw new Error('Unknown resizeMethod \''+r+'\'')}};n.srcX=(e.width-n.srcWidth)/2;n.srcY=(e.height-n.srcHeight)/2;n.trgWidth=t;n.trgHeight=i;return n},transformFile:function(e,t){if((this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/)){return this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t)}
else{return t(e)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(e){return this.element.classList.remove('dz-drag-hover')},dragstart:t,dragend:function(e){return this.element.classList.remove('dz-drag-hover')},dragenter:function(e){return this.element.classList.add('dz-drag-hover')},dragover:function(e){return this.element.classList.add('dz-drag-hover')},dragleave:function(e){return this.element.classList.remove('dz-drag-hover')},paste:t,reset:function(){return this.element.classList.remove('dz-started')},addedfile:function(e){var t,i,n,p,c,d,r,o,l,a,h,f,u;if(this.element===this.previewsContainer){this.element.classList.add('dz-started')};if(this.previewsContainer){e.previewElement=s.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);o=e.previewElement.querySelectorAll('[data-dz-name]');for(t=0,p=o.length;t<p;t++){r=o[t];r.textContent=e.name};l=e.previewElement.querySelectorAll('[data-dz-size]');for(i=0,c=l.length;i<c;i++){r=l[i];r.innerHTML=this.filesize(e.size)};if(this.options.addRemoveLinks){e._removeLink=s.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+'</a>');e.previewElement.appendChild(e._removeLink)};h=(function(t){return function(i){i.preventDefault();i.stopPropagation();if(e.status===s.UPLOADING){return s.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)})}
else{if(t.options.dictRemoveFileConfirmation){return s.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)})}
else{return t.removeFile(e)}}}})(this);a=e.previewElement.querySelectorAll('[data-dz-remove]');u=[];for(n=0,d=a.length;n<d;n++){f=a[n];u.push(f.addEventListener('click',h))};return u}},removedfile:function(e){var t;if(e.previewElement){if((t=e.previewElement)!=null){t.parentNode.removeChild(e.previewElement)}};return this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,s,n,r;if(e.previewElement){e.previewElement.classList.remove('dz-file-preview');n=e.previewElement.querySelectorAll('[data-dz-thumbnail]');for(i=0,s=n.length;i<s;i++){r=n[i];r.alt=e.name;r.src=t};return setTimeout(((function(t){return function(){return e.previewElement.classList.add('dz-image-preview')}})(this)),1)}},error:function(e,t){var i,s,o,n,r;if(e.previewElement){e.previewElement.classList.add('dz-error');if(typeof t!=='String'&&t.error){t=t.error};n=e.previewElement.querySelectorAll('[data-dz-errormessage]');r=[];for(i=0,s=n.length;i<s;i++){o=n[i];r.push(o.textContent=t)};return r}},errormultiple:t,processing:function(e){if(e.previewElement){e.previewElement.classList.add('dz-processing');if(e._removeLink){return e._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:t,uploadprogress:function(e,t,i){var n,l,r,o,s;if(e.previewElement){o=e.previewElement.querySelectorAll('[data-dz-uploadprogress]');s=[];for(n=0,l=o.length;n<l;n++){r=o[n];if(r.nodeName==='PROGRESS'){s.push(r.value=t)}
else{s.push(r.style.width=t+'%')}};return s}},totaluploadprogress:t,sending:t,sendingmultiple:t,success:function(e){if(e.previewElement){return e.previewElement.classList.add('dz-success')}},successmultiple:t,canceled:function(e){return this.emit('error',e,'Upload canceled.')},canceledmultiple:t,complete:function(e){if(e._removeLink){e._removeLink.textContent=this.options.dictRemoveFile};if(e.previewElement){return e.previewElement.classList.add('dz-complete')}},completemultiple:t,maxfilesexceeded:t,maxfilesreached:t,queuecomplete:t,addedfiles:t};l=function(){var e,t,o,i,r,s,l;s=arguments[0],r=2<=arguments.length?n.call(arguments,1):[];for(e=0,o=r.length;e<o;e++){i=r[e];for(t in i){l=i[t];s[t]=l}};return s};function s(e,t){var n,i,r;this.element=e;this.version=s.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,'');this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==='string'){this.element=document.querySelector(this.element)};if(!(this.element&&(this.element.nodeType!=null))){throw new Error('Invalid dropzone element.')};if(this.element.dropzone){throw new Error('Dropzone already attached.')};s.instances.push(this);this.element.dropzone=this;n=(r=s.optionsForElement(this.element))!=null?r:{};this.options=l({},this.defaultOptions,n,t!=null?t:{});if(this.options.forceFallback||!s.isBrowserSupported()){return this.options.fallback.call(this)};if(this.options.url==null){this.options.url=this.element.getAttribute('action')};if(!this.options.url){throw new Error('No URL provided.')};if(this.options.acceptedFiles&&this.options.acceptedMimeTypes){throw new Error('You can\'t provide both \'acceptedFiles\' and \'acceptedMimeTypes\'. \'acceptedMimeTypes\' is deprecated.')};if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes};if(this.options.renameFilename!=null){this.options.renameFile=(function(e){return function(t){return e.options.renameFilename.call(e,t.name,t)}})(this)};this.options.method=this.options.method.toUpperCase();if((i=this.getExistingFallback())&&i.parentNode){i.parentNode.removeChild(i)};if(this.options.previewsContainer!==!1){if(this.options.previewsContainer){this.previewsContainer=s.getElement(this.options.previewsContainer,'previewsContainer')}
else{this.previewsContainer=this.element}};if(this.options.clickable){if(this.options.clickable===!0){this.clickableElements=[this.element]}
else{this.clickableElements=s.getElements(this.options.clickable,'clickable')}};this.init()};s.prototype.getAcceptedFiles=function(){var t,e,r,i,n;i=this.files;n=[];for(e=0,r=i.length;e<r;e++){t=i[e];if(t.accepted){n.push(t)}};return n};s.prototype.getRejectedFiles=function(){var t,e,r,i,n;i=this.files;n=[];for(e=0,r=i.length;e<r;e++){t=i[e];if(!t.accepted){n.push(t)}};return n};s.prototype.getFilesWithStatus=function(e){var i,t,s,n,r;n=this.files;r=[];for(t=0,s=n.length;t<s;t++){i=n[t];if(i.status===e){r.push(i)}};return r};s.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(s.QUEUED)};s.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(s.UPLOADING)};s.prototype.getAddedFiles=function(){return this.getFilesWithStatus(s.ADDED)};s.prototype.getActiveFiles=function(){var e,t,r,i,n;i=this.files;n=[];for(t=0,r=i.length;t<r;t++){e=i[t];if(e.status===s.UPLOADING||e.status===s.QUEUED){n.push(e)}};return n};s.prototype.init=function(){var i,e,o,t,l,n,r;if(this.element.tagName==='form'){this.element.setAttribute('enctype','multipart/form-data')};if(this.element.classList.contains('dropzone')&&!this.element.querySelector('.dz-message')){this.element.appendChild(s.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+'</span></div>'))};if(this.clickableElements.length){r=(function(e){return function(){if(e.hiddenFileInput){e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput)};e.hiddenFileInput=document.createElement('input');e.hiddenFileInput.setAttribute('type','file');if((e.options.maxFiles==null)||e.options.maxFiles>1){e.hiddenFileInput.setAttribute('multiple','multiple')};e.hiddenFileInput.className='dz-hidden-input';if(e.options.acceptedFiles!=null){e.hiddenFileInput.setAttribute('accept',e.options.acceptedFiles)};if(e.options.capture!=null){e.hiddenFileInput.setAttribute('capture',e.options.capture)};e.hiddenFileInput.style.visibility='hidden';e.hiddenFileInput.style.position='absolute';e.hiddenFileInput.style.top='0';e.hiddenFileInput.style.left='0';e.hiddenFileInput.style.height='0';e.hiddenFileInput.style.width='0';document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput);return e.hiddenFileInput.addEventListener('change',function(){var n,t,i,s;t=e.hiddenFileInput.files;if(t.length){for(i=0,s=t.length;i<s;i++){n=t[i];e.addFile(n)}};e.emit('addedfiles',t);return r()})}})(this);r()};this.URL=(l=window.URL)!=null?l:window.webkitURL;n=this.events;for(e=0,o=n.length;e<o;e++){i=n[e];this.on(i,this.options[i])};this.on('uploadprogress',(function(e){return function(){return e.updateTotalUploadProgress()}})(this));this.on('removedfile',(function(e){return function(){return e.updateTotalUploadProgress()}})(this));this.on('canceled',(function(e){return function(t){return e.emit('complete',t)}})(this));this.on('complete',(function(e){return function(t){if(e.getAddedFiles().length===0&&e.getUploadingFiles().length===0&&e.getQueuedFiles().length===0){return setTimeout((function(){return e.emit('queuecomplete')}),0)}}})(this));t=function(e){e.stopPropagation();if(e.preventDefault){return e.preventDefault()}
else{return e.returnValue=!1}};this.listeners=[{element:this.element,events:{'dragstart':(function(e){return function(t){return e.emit('dragstart',t)}})(this),'dragenter':(function(e){return function(i){t(i);return e.emit('dragenter',i)}})(this),'dragover':(function(e){return function(i){var r;try{r=i.dataTransfer.effectAllowed}catch(n){};i.dataTransfer.dropEffect='move'===r||'linkMove'===r?'move':'copy';t(i);return e.emit('dragover',i)}})(this),'dragleave':(function(e){return function(t){return e.emit('dragleave',t)}})(this),'drop':(function(e){return function(i){t(i);return e.drop(i)}})(this),'dragend':(function(e){return function(t){return e.emit('dragend',t)}})(this)}}];this.clickableElements.forEach((function(e){return function(t){return e.listeners.push({element:t,events:{'click':function(i){if((t!==e.element)||(i.target===e.element||s.elementInside(i.target,e.element.querySelector('.dz-message')))){e.hiddenFileInput.click()};return!0}}})}})(this));this.enable();return this.options.init.call(this)};s.prototype.destroy=function(){var e;this.disable();this.removeAllFiles(!0);if((e=this.hiddenFileInput)!=null?e.parentNode:void 0){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null};delete this.element.dropzone;return s.instances.splice(s.instances.indexOf(this),1)};s.prototype.updateTotalUploadProgress=function(){var o,n,e,l,r,t,i,s;i=0;t=0;o=this.getActiveFiles();if(o.length){r=this.getActiveFiles();for(e=0,l=r.length;e<l;e++){n=r[e];i+=n.upload.bytesSent;t+=n.upload.total};s=100*i/t}
else{s=100};return this.emit('totaluploadprogress',s,t,i)};s.prototype._getParamName=function(e){if(typeof this.options.paramName==='function'){return this.options.paramName(e)}
else{return''+this.options.paramName+(this.options.uploadMultiple?'['+e+']':'')}};s.prototype._renameFile=function(e){if(typeof this.options.renameFile!=='function'){return e.name};return this.options.renameFile(e)};s.prototype.getFallbackForm=function(){var n,i,e,t;if(n=this.getExistingFallback()){return n};e='<div class="dz-fallback">';if(this.options.dictFallbackText){e+='<p>'+this.options.dictFallbackText+'</p>'};e+='<input type="file" name="'+(this._getParamName(0))+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';i=s.createElement(e);if(this.element.tagName!=='FORM'){t=s.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');t.appendChild(i)}
else{this.element.setAttribute('enctype','multipart/form-data');this.element.setAttribute('method',this.options.method)};return t!=null?t:i};s.prototype.getExistingFallback=function(){var i,n,e,r,t,s;n=function(e){var i,t,n;for(t=0,n=e.length;t<n;t++){i=e[t];if(/(^| )fallback($| )/.test(i.className)){return i}}};t=['div','form'];for(e=0,r=t.length;e<r;e++){s=t[e];if(i=n(this.element.getElementsByTagName(s))){return i}}};s.prototype.setupEventListeners=function(){var t,i,e,s,o,n,r;n=this.listeners;r=[];for(e=0,s=n.length;e<s;e++){t=n[e];r.push((function(){var e,n;e=t.events;n=[];for(i in e){o=e[i];n.push(t.element.addEventListener(i,o,!1))};return n})())};return r};s.prototype.removeEventListeners=function(){var t,i,e,s,o,n,r;n=this.listeners;r=[];for(e=0,s=n.length;e<s;e++){t=n[e];r.push((function(){var e,n;e=t.events;n=[];for(i in e){o=e[i];n.push(t.element.removeEventListener(i,o,!1))};return n})())};return r};s.prototype.disable=function(){var n,e,r,t,i;this.clickableElements.forEach(function(e){return e.classList.remove('dz-clickable')});this.removeEventListeners();t=this.files;i=[];for(e=0,r=t.length;e<r;e++){n=t[e];i.push(this.cancelUpload(n))};return i};s.prototype.enable=function(){this.clickableElements.forEach(function(e){return e.classList.add('dz-clickable')});return this.setupEventListeners()};s.prototype.filesize=function(e){var o,t,n,l,i,r,a,s;i=0;r='b';if(e>0){s=['tb','gb','mb','kb','b'];for(t=n=0,l=s.length;n<l;t=++n){a=s[t];o=Math.pow(this.options.filesizeBase,4-t)/10;if(e>=o){i=e/Math.pow(this.options.filesizeBase,4-t);r=a;break}};i=Math.round(10*i)/10};return'<strong>'+i+'</strong> '+this.options.dictFileSizeUnits[r]};s.prototype._updateMaxFilesReachedClass=function(){if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit('maxfilesreached',this.files)};return this.element.classList.add('dz-max-files-reached')}
else{return this.element.classList.remove('dz-max-files-reached')}};s.prototype.drop=function(e){var i,t;if(!e.dataTransfer){return};this.emit('drop',e);i=e.dataTransfer.files;this.emit('addedfiles',i);if(i.length){t=e.dataTransfer.items;if(t&&t.length&&(t[0].webkitGetAsEntry!=null)){this._addFilesFromItems(t)}
else{this.handleFiles(i)}}};s.prototype.paste=function(e){var t,i;if((e!=null?(i=e.clipboardData)!=null?i.items:void 0:void 0)==null){return};this.emit('paste',e);t=e.clipboardData.items;if(t.length){return this._addFilesFromItems(t)}};s.prototype.handleFiles=function(e){var n,t,r,i;i=[];for(t=0,r=e.length;t<r;t++){n=e[t];i.push(this.addFile(n))};return i};s.prototype._addFilesFromItems=function(e){var n,t,r,s,i;i=[];for(r=0,s=e.length;r<s;r++){t=e[r];if((t.webkitGetAsEntry!=null)&&(n=t.webkitGetAsEntry())){if(n.isFile){i.push(this.addFile(t.getAsFile()))}
else if(n.isDirectory){i.push(this._addFilesFromDirectory(n,n.name))}
else{i.push(void 0)}}
else if(t.getAsFile!=null){if((t.kind==null)||t.kind==='file'){i.push(this.addFile(t.getAsFile()))}
else{i.push(void 0)}}
else{i.push(void 0)}};return i};s.prototype._addFilesFromDirectory=function(e,t){var n,r,i;n=e.createReader();r=function(e){return typeof console!=='undefined'&&console!==null?typeof console.log==='function'?console.log(e):void 0:void 0};i=(function(e){return function(){return n.readEntries(function(n){var r,s,o;if(n.length>0){for(s=0,o=n.length;s<o;s++){r=n[s];if(r.isFile){r.file(function(i){if(e.options.ignoreHiddenFiles&&i.name.substring(0,1)==='.'){return};i.fullPath=t+'/'+i.name;return e.addFile(i)})}
else if(r.isDirectory){e._addFilesFromDirectory(r,t+'/'+r.name)}};i()};return null},r)}})(this);return i()};s.prototype.accept=function(e,t){if(e.size>this.options.maxFilesize*1024*1024){return t(this.options.dictFileTooBig.replace('{{filesize}}',Math.round(e.size/1024/10.24)/100).replace('{{maxFilesize}}',this.options.maxFilesize))}
else if(!s.isValidFile(e,this.options.acceptedFiles)){return t(this.options.dictInvalidFileType)}
else if((this.options.maxFiles!=null)&&this.getAcceptedFiles().length>=this.options.maxFiles){t(this.options.dictMaxFilesExceeded.replace('{{maxFiles}}',this.options.maxFiles));return this.emit('maxfilesexceeded',e)}
else{return this.options.accept.call(this,e,t)}};s.prototype.addFile=function(e){e.upload={progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)};this.files.push(e);e.status=s.ADDED;this.emit('addedfile',e);this._enqueueThumbnail(e);return this.accept(e,(function(t){return function(i){if(i){e.accepted=!1;t._errorProcessing([e],i)}
else{e.accepted=!0;if(t.options.autoQueue){t.enqueueFile(e)}};return t._updateMaxFilesReachedClass()}})(this))};s.prototype.enqueueFiles=function(e){var i,t,n;for(t=0,n=e.length;t<n;t++){i=e[t];this.enqueueFile(i)};return null};s.prototype.enqueueFile=function(e){if(e.status===s.ADDED&&e.accepted===!0){e.status=s.QUEUED;if(this.options.autoProcessQueue){return setTimeout(((function(e){return function(){return e.processQueue()}})(this)),0)}}
else{throw new Error('This file can\'t be queued because it has already been processed or was rejected.')}};s.prototype._thumbnailQueue=[];s.prototype._processingThumbnail=!1;s.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(e);return setTimeout(((function(e){return function(){return e._processThumbnailQueue()}})(this)),0)}};s.prototype._processThumbnailQueue=function(){var e;if(this._processingThumbnail||this._thumbnailQueue.length===0){return};this._processingThumbnail=!0;e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(t){return function(i){t.emit('thumbnail',e,i);t._processingThumbnail=!1;return t._processThumbnailQueue()}})(this))};s.prototype.removeFile=function(e){if(e.status===s.UPLOADING){this.cancelUpload(e)};this.files=u(this.files,e);this.emit('removedfile',e);if(this.files.length===0){return this.emit('reset')}};s.prototype.removeAllFiles=function(e){var i,t,r,n;if(e==null){e=!1};n=this.files.slice();for(t=0,r=n.length;t<r;t++){i=n[t];if(i.status!==s.UPLOADING||e){this.removeFile(i)}};return null};s.prototype.resizeImage=function(e,t,i,n,o){return this.createThumbnail(e,t,i,n,!1,(function(t){return function(i,n){var l,a;if(n===null){return o(e)}
else{l=t.options.resizeMimeType;if(l==null){l=e.type};a=n.toDataURL(l,t.options.resizeQuality);if(l==='image/jpeg'||l==='image/jpg'){a=r.restore(e.dataURL,a)};return o(s.dataURItoBlob(a))}}})(this))};s.prototype.createThumbnail=function(e,t,i,n,o,r){var s;s=new FileReader;s.onload=(function(l){return function(){e.dataURL=s.result;if(e.type==='image/svg+xml'){if(r!=null){r(s.result)};return};return l.createThumbnailFromUrl(e,t,i,n,o,r)}})(this);return s.readAsDataURL(e)};s.prototype.createThumbnailFromUrl=function(e,t,i,s,o,r,l){var n;n=document.createElement('img');if(l){n.crossOrigin=l};n.onload=(function(l){return function(){var u;u=function(e){return e(1)};if((typeof EXIF!=='undefined'&&EXIF!==null)&&o){u=function(e){return EXIF.getData(n,function(){return e(EXIF.getTag(this,'Orientation'))})}};return u(function(o){var p,u,d,h,f,m,c,g;e.width=n.width;e.height=n.height;c=l.options.resize.call(l,e,t,i,s);p=document.createElement('canvas');u=p.getContext('2d');p.width=c.trgWidth;p.height=c.trgHeight;if(o>4){p.width=c.trgHeight;p.height=c.trgWidth};switch(o){case 2:u.translate(p.width,0);u.scale(-1,1);break;case 3:u.translate(p.width,p.height);u.rotate(Math.PI);break;case 4:u.translate(0,p.height);u.scale(1,-1);break;case 5:u.rotate(0.5*Math.PI);u.scale(1,-1);break;case 6:u.rotate(0.5*Math.PI);u.translate(0,-p.height);break;case 7:u.rotate(0.5*Math.PI);u.translate(p.width,-p.height);u.scale(-1,1);break;case 8:u.rotate(-0.5*Math.PI);u.translate(-p.width,0)};a(u,n,(d=c.srcX)!=null?d:0,(h=c.srcY)!=null?h:0,c.srcWidth,c.srcHeight,(f=c.trgX)!=null?f:0,(m=c.trgY)!=null?m:0,c.trgWidth,c.trgHeight);g=p.toDataURL('image/png');if(r!=null){return r(g,p)}})}})(this);if(r!=null){n.onerror=r};return n.src=e.dataURL};s.prototype.processQueue=function(){var n,t,i,e;t=this.options.parallelUploads;i=this.getUploadingFiles().length;n=i;if(i>=t){return};e=this.getQueuedFiles();if(!(e.length>0)){return};if(this.options.uploadMultiple){return this.processFiles(e.slice(0,t-i))}
else{while(n<t){if(!e.length){return};this.processFile(e.shift());n++}}};s.prototype.processFile=function(e){return this.processFiles([e])};s.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++){t=e[i];t.processing=!0;t.status=s.UPLOADING;this.emit('processing',t)};if(this.options.uploadMultiple){this.emit('processingmultiple',e)};return this.uploadFiles(e)};s.prototype._getFilesWithXhr=function(e){var t,i;return i=(function(){var i,s,n,r;n=this.files;r=[];for(i=0,s=n.length;i<s;i++){t=n[i];if(t.xhr===e){r.push(t)}};return r}).call(this)};s.prototype.cancelUpload=function(e){var i,t,n,r,o,l,a;if(e.status===s.UPLOADING){t=this._getFilesWithXhr(e.xhr);for(n=0,o=t.length;n<o;n++){i=t[n];i.status=s.CANCELED};e.xhr.abort();for(r=0,l=t.length;r<l;r++){i=t[r];this.emit('canceled',i)};if(this.options.uploadMultiple){this.emit('canceledmultiple',t)}}
else if((a=e.status)===s.ADDED||a===s.QUEUED){e.status=s.CANCELED;this.emit('canceled',e);if(this.options.uploadMultiple){this.emit('canceledmultiple',[e])}};if(this.options.autoProcessQueue){return this.processQueue()}};o=function(){var t,e;e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[];if(typeof e==='function'){return e.apply(this,t)};return e};s.prototype.uploadFile=function(e){return this.uploadFiles([e])};s.prototype.uploadFiles=function(e){var T,S,i,n,v,y,F,d,u,r,w,b,h,f,E,m,M,D,I,U,g,R,p,z,N,P,k,C,x,O,c,a,L,A,q,Q,t;t=new XMLHttpRequest();for(h=0,M=e.length;h<M;h++){i=e[h];i.xhr=t};R=o(this.options.method,e);q=o(this.options.url,e);t.open(R,q,!0);t.timeout=o(this.options.timeout,e);t.withCredentials=!!this.options.withCredentials;a=null;v=(function(n){return function(){var r,o,s;s=[];for(r=0,o=e.length;r<o;r++){i=e[r];s.push(n._errorProcessing(e,a||n.options.dictResponseError.replace('{{statusCode}}',t.status),t))};return s}})(this);A=(function(t){return function(n){var a,s,o,p,c,d,l,r,u;if(n!=null){r=100*n.loaded/n.total;for(s=0,p=e.length;s<p;s++){i=e[s];i.upload.progress=r;i.upload.total=n.total;i.upload.bytesSent=n.loaded}}
else{a=!0;r=100;for(o=0,c=e.length;o<c;o++){i=e[o];if(!(i.upload.progress===100&&i.upload.bytesSent===i.upload.total)){a=!1};i.upload.progress=r;i.upload.bytesSent=i.upload.total};if(a){return}};u=[];for(l=0,d=e.length;l<d;l++){i=e[l];u.push(t.emit('uploadprogress',i,r,i.upload.bytesSent))};return u}})(this);t.onload=(function(i){return function(n){var l,o;if(e[0].status===s.CANCELED){return};if(t.readyState!==4){return};if(t.responseType!=='arraybuffer'&&t.responseType!=='blob'){a=t.responseText;if(t.getResponseHeader('content-type')&&~t.getResponseHeader('content-type').indexOf('application/json')){try{a=JSON.parse(a)}catch(r){n=r;a='Invalid JSON response from server.'}}};A();if(!((200<=(o=t.status)&&o<300))){return v()}
else{return i._finished(e,a,n)}}})(this);t.onerror=(function(t){return function(){if(e[0].status===s.CANCELED){return};return v()}})(this);N=(P=t.upload)!=null?P:t;N.onprogress=A;d={'Accept':'application/json','Cache-Control':'no-cache','X-Requested-With':'XMLHttpRequest'};if(this.options.headers){l(d,this.options.headers)};for(y in d){F=d[y];if(F){t.setRequestHeader(y,F)}};n=new FormData();if(this.options.params){k=this.options.params;for(E in k){Q=k[E];n.append(E,Q)}};for(f=0,D=e.length;f<D;f++){i=e[f];this.emit('sending',i,t,n)};if(this.options.uploadMultiple){this.emit('sendingmultiple',e,t,n)};if(this.element.tagName==='FORM'){C=this.element.querySelectorAll('input, textarea, select, button');for(m=0,I=C.length;m<I;m++){r=C[m];w=r.getAttribute('name');b=r.getAttribute('type');if(r.tagName==='SELECT'&&r.hasAttribute('multiple')){x=r.options;for(g=0,U=x.length;g<U;g++){z=x[g];if(z.selected){n.append(w,z.value)}}}
else if(!b||((O=b.toLowerCase())!=='checkbox'&&O!=='radio')||r.checked){n.append(w,r.value)}}};T=0;L=[];for(u=p=0,c=e.length-1;0<=c?p<=c:p>=c;u=0<=c?++p:--p){S=(function(i){return function(r,s,o){return function(r){n.append(s,r,o);if(++T===e.length){return i.submitRequest(t,n,e)}}}})(this);L.push(this.options.transformFile.call(this,e[u],S(e[u],this._getParamName(u),e[u].upload.filename)))};return L};s.prototype.submitRequest=function(e,t,i){return e.send(t)};s.prototype._finished=function(e,t,i){var n,r,o;for(r=0,o=e.length;r<o;r++){n=e[r];n.status=s.SUCCESS;this.emit('success',n,t,i);this.emit('complete',n)};if(this.options.uploadMultiple){this.emit('successmultiple',e,t,i);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}};s.prototype._errorProcessing=function(e,t,i){var n,r,o;for(r=0,o=e.length;r<o;r++){n=e[r];n.status=s.ERROR;this.emit('error',n,t,i);this.emit('complete',n)};if(this.options.uploadMultiple){this.emit('errormultiple',e,t,i);this.emit('completemultiple',e)};if(this.options.autoProcessQueue){return this.processQueue()}};return s})(i);e.version='5.1.1';e.options={};e.optionsForElement=function(t){if(t.getAttribute('id')){return e.options[s(t.getAttribute('id'))]}
else{return void 0}};e.instances=[];e.forElement=function(e){if(typeof e==='string'){e=document.querySelector(e)};if((e!=null?e.dropzone:void 0)==null){throw new Error('No Dropzone found for given element. This is probably because you\'re trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.')};return e.dropzone};e.autoDiscover=!0;e.discover=function(){var r,s,t,i,o,n;if(document.querySelectorAll){t=document.querySelectorAll('.dropzone')}
else{t=[];r=function(e){var r,i,s,n;n=[];for(i=0,s=e.length;i<s;i++){r=e[i];if(/(^| )dropzone($| )/.test(r.className)){n.push(t.push(r))}
else{n.push(void 0)}};return n};r(document.getElementsByTagName('div'));r(document.getElementsByTagName('form'))};n=[];for(i=0,o=t.length;i<o;i++){s=t[i];if(e.optionsForElement(s)!==!1){n.push(new e(s))}
else{n.push(void 0)}};return n};e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i];e.isBrowserSupported=function(){var t,i,r,n,s;t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!('classList' in document.createElement('a'))){t=!1}
else{n=e.blacklistedBrowsers;for(i=0,r=n.length;i<r;i++){s=n[i];if(s.test(navigator.userAgent)){t=!1;continue}}}}
else{t=!1};return t};e.dataURItoBlob=function(e){var s,n,r,o,t,l,i;n=atob(e.split(',')[1]);l=e.split(',')[0].split(':')[1].split(';')[0];s=new ArrayBuffer(n.length);o=new Uint8Array(s);for(r=t=0,i=n.length;0<=i?t<=i:t>=i;r=0<=i?++t:--t){o[r]=n.charCodeAt(r)};return new Blob([s],{type:l})};u=function(e,t){var n,i,s,r;r=[];for(i=0,s=e.length;i<s;i++){n=e[i];if(n!==t){r.push(n)}};return r};s=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};e.createElement=function(e){var t;t=document.createElement('div');t.innerHTML=e;return t.childNodes[0]};e.elementInside=function(e,t){if(e===t){return!0}
while(e=e.parentNode){if(e===t){return!0}};return!1};e.getElement=function(e,t){var i;if(typeof e==='string'){i=document.querySelector(e)}
else if(e.nodeType!=null){i=e};if(i==null){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector or a plain HTML element.')};return i};e.getElements=function(e,t){var p,r,i,c,s,o,a,u,l;if(e instanceof Array){i=[];try{for(s=0,a=e.length;s<a;s++){r=e[s];i.push(this.getElement(r,t))}}catch(n){p=n;i=null}}
else if(typeof e==='string'){i=[];l=document.querySelectorAll(e);for(o=0,u=l.length;o<u;o++){r=l[o];i.push(r)}}
else if(e.nodeType!=null){i=[e]};if(!((i!=null)&&i.length)){throw new Error('Invalid `'+t+'` option provided. Please provide a CSS selector, a plain HTML element or a list of those.')};return i};e.confirm=function(e,t,i){if(window.confirm(e)){return t()}
else if(i!=null){return i()}};e.isValidFile=function(e,t){var s,n,o,r,i;if(!t){return!0};t=t.split(',');r=e.type;s=r.replace(/\/.*$/,'');for(n=0,o=t.length;n<o;n++){i=t[n];i=i.trim();if(i.charAt(0)==='.'){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1){return!0}}
else if(/\/\*$/.test(i)){if(s===i.replace(/\/.*$/,'')){return!0}}
else{if(r===i){return!0}}};return!1};if(typeof jQuery!=='undefined'&&jQuery!==null){jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}};if(typeof module!=='undefined'&&module!==null){module.exports=e}
else{window.Dropzone=e};e.ADDED='added';e.QUEUED='queued';e.ACCEPTED=e.QUEUED;e.UPLOADING='uploading';e.PROCESSING=e.UPLOADING;e.CANCELED='canceled';e.ERROR='error';e.SUCCESS='success';l=function(e){var a,n,s,u,o,i,p,t,l,r;p=e.naturalWidth;i=e.naturalHeight;n=document.createElement('canvas');n.width=1;n.height=i;s=n.getContext('2d');s.drawImage(e,0,0);u=s.getImageData(1,0,1,i).data;r=0;o=i;t=i;while(t>r){a=u[(t-1)*4+3];if(a===0){o=t}
else{r=t};t=(o+r)>>1};l=t/i;if(l===0){return 1}
else{return l}};a=function(e,t,i,n,r,s,o,u,p,c){var a;a=l(t);return e.drawImage(t,i,n,r,s,o,u,p,c/a)};r=(function(){function e(){};e.KEY_STR='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';e.encode64=function(e){var r,t,i,l,a,s,n,o,u;u='';r=void 0;t=void 0;i='';l=void 0;a=void 0;s=void 0;n='';o=0;while(!0){r=e[o++];t=e[o++];i=e[o++];l=r>>2;a=(r&3)<<4|t>>4;s=(t&15)<<2|i>>6;n=i&63;if(isNaN(t)){s=n=64}
else if(isNaN(i)){n=64};u=u+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(n);r=t=i='';l=a=s=n='';if(!(o<e.length)){break}};return u};e.restore=function(e,t){var i,n,r;if(!e.match('data:image/jpeg;base64,')){return t};n=this.decode64(e.replace('data:image/jpeg;base64,',''));r=this.slice2Segments(n);i=this.exifManipulation(t,r);return'data:image/jpeg;base64,'+this.encode64(i)};e.exifManipulation=function(e,t){var i,n,r;n=this.getExifArray(t);r=this.insertExif(e,n);i=new Uint8Array(r);return i};e.getExifArray=function(e){var t,i;t=void 0;i=0;while(i<e.length){t=e[i];if(t[0]===255&t[1]===225){return t};i++};return[]};e.insertExif=function(e,t){var i,s,n,o,l,r;o=e.replace('data:image/jpeg;base64,','');n=this.decode64(o);r=n.indexOf(255,3);l=n.slice(0,r);s=n.slice(r);i=l;i=i.concat(t);i=i.concat(s);return i};e.slice2Segments=function(e){var i,t,r,s,n;t=0;n=[];while(!0){if(e[t]===255&e[t+1]===218){break};if(e[t]===255&e[t+1]===216){t+=2}
else{r=e[t+2]*256+e[t+3];i=t+r+2;s=e.slice(t,i);n.push(s);t=i};if(t>e.length){break}};return n};e.decode64=function(e){var p,n,o,l,a,u,r,t,s,i,c;c='';o=void 0;l=void 0;a='';u=void 0;r=void 0;t=void 0;s='';i=0;n=[];p=/[^A-Za-z0-9\+\/\=]/g;if(p.exec(e)){console.warning('There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, \'+\', \'/\',and \'=\'\nExpect errors in decoding.')};e=e.replace(/[^A-Za-z0-9\+\/\=]/g,'');while(!0){u=this.KEY_STR.indexOf(e.charAt(i++));r=this.KEY_STR.indexOf(e.charAt(i++));t=this.KEY_STR.indexOf(e.charAt(i++));s=this.KEY_STR.indexOf(e.charAt(i++));o=u<<2|r>>4;l=(r&15)<<4|t>>2;a=(t&3)<<6|s;n.push(o);if(t!==64){n.push(l)};if(s!==64){n.push(a)};o=l=a='';u=r=t=s='';if(!(i<e.length)){break}};return n};return e})();o=function(e,t){var s,i,l,n,a,r,c,u,p;l=!1;p=!0;i=e.document;u=i.documentElement;s=(i.addEventListener?'addEventListener':'attachEvent');c=(i.addEventListener?'removeEventListener':'detachEvent');r=(i.addEventListener?'':'on');n=function(s){if(s.type==='readystatechange'&&i.readyState!=='complete'){return}(s.type==='load'?e:i)[c](r+s.type,n,!1);if(!l&&(l=!0)){return t.call(e,s.type||s)}};a=function(){var t,i;try{u.doScroll('left')}catch(e){t=e;setTimeout(a,50);return};return n('poll')};if(i.readyState!=='complete'){if(i.createEventObject&&u.doScroll){try{p=!e.frameElement}catch(o){};if(p){a()}};i[s](r+'DOMContentLoaded',n,!1);i[s](r+'readystatechange',n,!1);return e[s](r+'load',n,!1)}};e._autoDiscoverFunction=function(){if(e.autoDiscover){return e.discover()}};o(window,e._autoDiscoverFunction)}).call(this);